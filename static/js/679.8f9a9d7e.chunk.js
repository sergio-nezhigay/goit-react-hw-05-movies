"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[679],{3679:function(n,e,t){t.r(e),t.d(e,{default:function(){return d}});var r=t(5861),o=t(9439),i=t(4687),a=t.n(i),s=t(2791),c=t(7689),l=t(7963),p=t(4146),u=t(184);function d(){var n=(0,c.TH)(),e=(0,s.useState)([]),t=(0,o.Z)(e,2),i=t[0],d=t[1],f=(0,s.useState)(!1),h=(0,o.Z)(f,2),m=h[0],v=h[1];return(0,s.useEffect)((function(){(0,r.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),n.prev=1,n.next=4,l.Tg();case 4:e=n.sent,t=e.results,d(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log("Error fetching images",n.t0.message);case 12:return n.prev=12,v(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,9,12,15]])})))()}),[]),(0,u.jsx)(u.Fragment,{children:m?(0,u.jsx)("div",{children:"Loading movies..."}):(0,u.jsx)(p.Z,{movies:i,location:n,title:"Trending movies"})})}},4146:function(n,e,t){t.d(e,{Z:function(){return Z}});var r,o,i,a,s=t(5861),c=t(9439),l=t(4687),p=t.n(l),u=t(2791),d=t(168),f=t(1087),h=t(8789),m=h.ZP.h1(r||(r=(0,d.Z)(["\n  margin-bottom: 20px;\n"]))),v=h.ZP.h1(o||(o=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),g=h.ZP.ul(i||(i=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 32px;\n  margin-top: 32px;\n  padding: 0;\n  list-style: none;\n"]))),x=(0,h.ZP)(f.rU)(a||(a=(0,d.Z)(["\n  font-size: 30px;\n  font-weight: 700;\n  text-decoration: none;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: 4px;\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.2);\n  background-color: #ffffffbc;\n  position: relative;\n  display: block;\n  width: 100%;\n  padding-top: 40%; /* 21:9 aspect ratio */\n  z-index: 1;\n  transition: transform 0.3s ease-in-out;\n\n  &:before {\n    content: '';\n    display: block;\n    padding-top: 150%;\n  }\n\n  > iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n\n  > img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),b=t(7963),w=t(184);function Z(n){var e=n.movies,t=n.location,r=n.title,o=(0,u.useState)(null),i=(0,c.Z)(o,2),a=i[0],l=i[1],d=function(){var n=(0,s.Z)(p().mark((function n(e){var t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.IA(e);case 3:(t=n.sent)&&l({video:t,movieId:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error fetching trailer for movie ".concat(e,": ").concat(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),f=function(){l(null)};return(0,w.jsxs)(w.Fragment,{children:[!!r.length&&(0,w.jsx)(m,{children:r}),!!e.length&&(0,w.jsx)(g,{children:e.map((function(n){return(0,w.jsx)("li",{title:"Click to read movie details",children:(0,w.jsxs)(x,{to:"/movies/".concat(n.id),state:{from:t},onMouseEnter:function(){return d(n.id)},onMouseLeave:f,children:[a&&a.movieId===n.id&&a.video?(0,w.jsx)("iframe",{title:n.title,src:a.video,allow:"autoplay; "}):n.poster_path&&(0,w.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+n.poster_path,alt:n.title}),!n.poster_path&&(0,w.jsx)(v,{children:n.title})]})},n.id)}))})]})}}}]);
//# sourceMappingURL=679.8f9a9d7e.chunk.js.map