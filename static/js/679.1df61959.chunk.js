"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[679],{3679:function(n,t,e){e.r(t),e.d(t,{default:function(){return d}});var i=e(5861),r=e(9439),o=e(4687),a=e.n(o),s=e(2791),c=e(7689),l=e(7963),u=e(4146),p=e(184);function d(){var n=(0,c.TH)(),t=(0,s.useState)([]),e=(0,r.Z)(t,2),o=e[0],d=e[1],f=(0,s.useState)(!1),h=(0,r.Z)(f,2),m=h[0],g=h[1];return(0,s.useEffect)((function(){(0,i.Z)(a().mark((function n(){var t,e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g(!0),n.prev=1,n.next=4,l.Tg();case 4:t=n.sent,e=t.results,d(e),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log("Error fetching images",n.t0.message);case 12:return n.prev=12,g(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,9,12,15]])})))()}),[]),(0,p.jsx)(p.Fragment,{children:m?(0,p.jsx)("div",{children:"Loading movies..."}):(0,p.jsx)(u.Z,{movies:o,location:n,title:"Trending movies"})})}},4146:function(n,t,e){e.d(t,{Z:function(){return Z}});var i,r,o,a,s=e(5861),c=e(9439),l=e(4687),u=e.n(l),p=e(2791),d=e(168),f=e(1087),h=e(8789),m=h.ZP.h1(i||(i=(0,d.Z)(["\n  margin-bottom: 20px;\n"]))),g=h.ZP.h1(r||(r=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),v=h.ZP.ul(o||(o=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 32px;\n  margin-top: 32px;\n  padding: 0;\n  list-style: none;\n"]))),x=(0,h.ZP)(f.rU)(a||(a=(0,d.Z)(["\n  font-size: 30px;\n  font-weight: 700;\n  text-decoration: none;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: 4px;\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.2);\n  background-color: #ffffffbc;\n  position: relative;\n  display: block;\n  width: 100%;\n  padding-top: 40%; /* 21:9 aspect ratio */\n  z-index: 1;\n  transition: transform 0.3s ease-in-out;\n\n  &:before {\n    content: '';\n    display: block;\n    padding-top: 150%;\n  }\n\n  > iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n\n  > img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),b=e(7963),w=e(184);function Z(n){var t=n.movies,e=n.location,i=n.title,r=(0,p.useState)(null),o=(0,c.Z)(r,2),a=o[0],l=o[1],d=function(){var n=(0,s.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.IA(t);case 2:(e=n.sent)&&l({video:e,movieId:t});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=function(){l(null)};return(0,w.jsxs)(w.Fragment,{children:[!!i.length&&(0,w.jsx)(m,{children:i}),!!t.length&&(0,w.jsx)(v,{children:t.map((function(n){return(0,w.jsx)("li",{title:"Click to read movie details",children:(0,w.jsxs)(x,{to:"/movies/".concat(n.id),state:{from:e},onMouseEnter:function(){return d(n.id)},onMouseLeave:f,children:[a&&a.movieId===n.id&&a.video?(0,w.jsx)("iframe",{title:n.title,src:a.video,allow:"autoplay; "}):n.poster_path&&(0,w.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+n.poster_path,alt:n.title}),!n.poster_path&&(0,w.jsx)(g,{children:n.title})]})},n.id)}))})]})}}}]);
//# sourceMappingURL=679.1df61959.chunk.js.map